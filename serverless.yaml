service: floss
provider: aws
plugins:
  - serverless-offline
  - serverless-dotenv-plugin
custom:
  serverless-offline:
    httpPort: 3001
functions:
  contract-get:
    handler: out/contract_get.handler
    events:
      - http:
          path: contract
          method: get
          cors: true
  contract-post:
    handler: out/contract_post.handler
    events:
      - http:
          path: contract
          method: post
          cors: true
  contract-put:
    handler: out/contract_put.handler
    events:
      - http:
          path: contract
          method: put
          cors: true
  contracts-get:
    handler: out/contracts_get.handler
    events:
      - http:
          path: contracts
          method: get
          cors: true
  issue-get:
    handler: out/issue_get.handler
    events:
      - http:
          path: issue
          method: get
          cors: true
  project-get:
    handler: out/project_get.handler
    events:
      - http:
          path: project
          method: get
          cors: true
  stripe-payment-methods:
    handler: out/stripe-payment-methods_get.handler
    events:
      - http:
          path: stripe-payment-methods
          method: get
          cors: true
  stripe-payment-succeeded:
    handler: out/stripe-payment-succeeded_post.handler
    events:
      - http:
          path: stripe-payment-succeeded
          method: post
          cors: true
  stripe-session-post:
    handler: out/stripe-session_post.handler
    events:
      - http:
          path: stripe-session
          method: post
          cors: true
  stripe-setup-intent-post:
    handler: out/stripe-setup-intent_post.handler
    events:
      - http:
          path: stripe-setup-intent
          method: post
          cors: true
